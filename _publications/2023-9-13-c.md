---
title: "如何避免重复包含头文件"
collection: publications
permalink: /publication/2023-9-13-c
excerpt: 
date: 2023-9-13
venue: '九月十三号'
collection: C/C++
paperurl: 
citation: 
---



**如何避免重复包含头文件**

**1.微软宏**

#pragma once
/* 下面正常声明函数、类、结构体等操作 */

**2.条件编译**

#pragma once
/* 下面正常声明函数、类、结构体等操作 */

**两种方法比较**

1. **局限性**：条件编译方式，适用于任何平台；微软宏，则被编译器限制，只能在Windows VS中使用。
2. **效率性**：

​		条件编译：当头文件第一次被包含时，它被正常处理，符号_HEADERNAME_H被定义为1。如果头文件被再次包含，通过条件编译，它的内容被忽略。符号_HEADERNAME_H按照被包含头文件的文件名进行取名，以避免由于其他头文件使用相同的符号而引起的冲突。

​		微软宏：#pragma once指定当前文件在构建时只被包含(或打开)一次,这样就可以减少构建的时间,因为加入#pragma once后,编译器在打开或读取第一个#include 模块后,就不会再打开或读取随后出现的同#include 模块。



注释：条件编译发生在预处理阶段
